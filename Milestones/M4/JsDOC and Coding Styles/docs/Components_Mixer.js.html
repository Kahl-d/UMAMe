<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Components/Mixer.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#CookingMode">CookingMode</a></li><li><a href="global.html#LandingPage">LandingPage</a></li><li><a href="global.html#Main">Main</a></li><li><a href="global.html#Mixer">Mixer</a></li><li><a href="global.html#Navigation">Navigation</a></li><li><a href="global.html#RecipeCard">RecipeCard</a></li><li><a href="global.html#Search">Search</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">Components/Mixer.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from "react";
import TextField from '@mui/material/TextField';
import Button from '@mui/material/Button';
import IconButton from '@mui/material/IconButton';
import axios from "axios";
import AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';
import AutorenewIcon from '@mui/icons-material/Autorenew';
import DeleteIcon from '@mui/icons-material/Delete';
import RecipeCard from "./RecipeCard";
import List from '@mui/material/List';
import ListItem from '@mui/material/ListItem';
import ListItemText from '@mui/material/ListItemText';
import ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';
import { styled } from '@mui/material/styles';
import './mixer.css';


/**
 * Mixer component allows users to input and manage a list of ingredients, 
 * and search for recipes that include these ingredients. It features input handling,
 * addition and removal of ingredients, and an API call to fetch recipes.
 *
 * @component
 */
const Mixer = () => {
    const [currentIngredient, setCurrentIngredient] = useState('');
    const [mixers, setMixers] = useState([]);
    const [searchResults, setSearchResults] = useState([]);

    /**
     * Updates the currentIngredient state based on user input.
     *
     * @param {Object} event - The event object from the input field.
     */

    const onTermChange = (event) => {
        setCurrentIngredient(event.target.value);
    }

     /**
     * Adds the current ingredient to the mixers list and resets the input field.
     *
     * @param {Object} e - The event object from the form submission.
     */
    
    const handleAdd = (e) => {
        e.preventDefault(); 
        if (currentIngredient) {
            setMixers([...mixers, currentIngredient]);
            setCurrentIngredient('');
        }
    }

     /**
     * Removes an ingredient from the mixers list based on its index.
     *
     * @param {number} index - The index of the ingredient to remove.
     */

    const handleRemove = (index) => {
        const newMixers = mixers.filter((_, idx) => idx !== index);
        setMixers(newMixers);
    }

    /**
     * Fetches recipes based on the ingredients in the mixers list.
     */

    const onSearchClick = async () => {
        try {
            const response = await axios.post("http://3.14.254.41:5000/search/mixer", { 
                "ingredients": mixers,
            });
            if (response.data &amp;&amp; response.data.recipes) {
                setSearchResults(response.data.recipes);
            } else {
                alert("Nothing Found!");
                setSearchResults([]);
            }
        } catch (error) {
            console.error("There was an error during the search:", error);
            alert("Error during the search!");
            setSearchResults([]);
        }
    }

    // Custom styling
    const CompactListItem = styled(ListItem)({
        paddingTop: 4,
        paddingBottom: 4,
    });

    const MatteButton = styled(Button)({
        backgroundColor: '#f0f0f0', // Matte finish color
        color: '#333', // Text color
        '&amp;:hover': {
            backgroundColor: '#e0e0e0', // Darker on hover
        },
        margin: '0 5px', // Spacing between buttons
    });

 

    return (
        &lt;div id="mixer">
            &lt;div id="mixerSearchBar">
                &lt;TextField
                    id="searchBarTextField"
                    onChange={onTermChange}
                    value={currentIngredient}
                    placeholder="Add an ingredient..."
                    variant="outlined"
                    
                    
                />
                &lt;div id="mixerSearchBarButtons">
                &lt;MatteButton type="submit" variant="contained" onClick={handleAdd}>
                    &lt;AddCircleOutlineIcon />
                &lt;/MatteButton>
                &lt;MatteButton variant="contained" onClick={onSearchClick}>
                    &lt;AutorenewIcon />
                &lt;/MatteButton>
                &lt;/div>
            &lt;/div>
            &lt;div id="mixerList" >
                &lt;List dense>
                    {mixers.map((mixer, index) => (
                        &lt;CompactListItem key={index}>
                            &lt;ListItemText primary={mixer} />
                            &lt;ListItemSecondaryAction>
                                &lt;IconButton edge="end" aria-label="delete" onClick={() => handleRemove(index)}>
                                    &lt;DeleteIcon />
                                &lt;/IconButton>
                            &lt;/ListItemSecondaryAction>
                        &lt;/CompactListItem>
                    ))}
                &lt;/List>
            &lt;/div>
            &lt;div id="mixerResults">
                {searchResults.map(recipe => (
                    &lt;RecipeCard key={recipe.id} recipe={recipe} />
                ))}
                &lt;div className="gap">&lt;/div>
            &lt;/div>
        &lt;/div>
    );
}

export default Mixer;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Tue Nov 28 2023 23:33:27 GMT-0800 (Pacific Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
